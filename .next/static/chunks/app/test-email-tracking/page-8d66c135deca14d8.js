(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{8156:function(e,s,t){Promise.resolve().then(t.bind(t,8930))},8930:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(7437),n=t(2265);function r(){let[e,s]=(0,n.useState)(""),[t,r]=(0,n.useState)(""),[c,i]=(0,n.useState)(!1),l=async()=>{try{let e=await fetch("/api/init-email-tables",{method:"POST",headers:{"Content-Type":"application/json"}}),s=await e.json();s.success?(i(!0),r("✅ Tables created successfully!")):r("❌ Error: "+s.error)}catch(e){r("❌ Error: "+(e instanceof Error?e.message:"Unknown error"))}},o=async()=>{let e=Date.now()+"-test";await fetch("/api/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:e,subject:"Test Email",recipient_email:"test@example.com"})}),s(e);let t=new Image;t.onload=()=>r("✅ Tracking works! Check admin panel."),t.src="/api/email/track?id=".concat(e)};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-space-black via-navy-dark to-space-black text-white p-8",children:(0,a.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"Test Email Tracking"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Step 1: Initialize Database"}),(0,a.jsx)("button",{onClick:l,className:"btn-neon-primary px-6 py-3",disabled:c,children:c?"✅ Tables Created":"Create Email Tables"})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Step 2: Test Tracking"}),(0,a.jsx)("button",{onClick:o,className:"btn-neon-secondary px-6 py-3",disabled:!c,children:"Test Tracking Pixel"})]})]}),t&&(0,a.jsxs)("div",{className:"mt-8 glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Result:"}),(0,a.jsx)("p",{className:"text-green-400",children:t})]}),e&&(0,a.jsxs)("div",{className:"mt-6 glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Test Details:"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Campaign ID:"}),(0,a.jsx)("code",{className:"ml-2 text-sm text-cyan-400",children:e})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Tracking URL:"}),(0,a.jsxs)("code",{className:"ml-2 text-sm text-cyan-400 break-all",children:["http://localhost:3000/api/email/track?id=",e]})]})]})]})]})})}t(2445)},2445:function(){},622:function(e,s,t){"use strict";var a=t(2265),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,t){var a,r={},o=null,d=null;for(a in void 0!==t&&(o=""+t),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)c.call(s,a)&&!l.hasOwnProperty(a)&&(r[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===r[a]&&(r[a]=s[a]);return{$$typeof:n,type:e,key:o,ref:d,props:r,_owner:i.current}}s.Fragment=r,s.jsx=o,s.jsxs=o},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[124,971,938,744],function(){return e(e.s=8156)}),_N_E=e.O()}]);