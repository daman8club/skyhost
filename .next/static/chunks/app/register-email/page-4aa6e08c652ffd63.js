(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{1055:function(e,t,a){Promise.resolve().then(a.bind(a,1469))},1469:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var r=a(7437),s=a(2265);function n(){let[e,t]=(0,s.useState)({campaignId:"",subject:"",recipientEmail:""}),[a,n]=(0,s.useState)(""),i=async t=>{t.preventDefault();try{(await fetch("/api/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:e.campaignId,subject:e.subject,recipient_email:e.recipientEmail})})).ok?n('✅ Email registered! Use this tracking pixel in your email:\n        \n<img src="https://skyhost.agency/api/email/track?id='.concat(e.campaignId,'" width="1" height="1" style="display:none;" alt="" />\n\nFor localhost testing:\n<img src="http://localhost:3000/api/email/track?id=').concat(e.campaignId,'" width="1" height="1" style="display:none;" alt="" />')):n("❌ Error registering email")}catch(e){n("❌ Error: "+(e instanceof Error?e.message:"Unknown error"))}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-space-black via-navy-dark to-space-black text-white p-8",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"Register Email for Tracking"}),(0,r.jsx)("div",{className:"bg-red-900/20 border border-red-500/50 rounded-xl p-4 mb-6",children:(0,r.jsxs)("p",{className:"text-red-300 text-sm",children:["⚠️ ",(0,r.jsx)("strong",{children:"Important:"})," Use your public domain (skyhost.agency) in emails, not localhost. Recipients can't access localhost:3000."]})}),(0,r.jsxs)("form",{onSubmit:i,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"glass-card p-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Campaign ID"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:e.campaignId,onChange:a=>t({...e,campaignId:a.target.value}),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-purple-400/50 focus:outline-none transition-colors",placeholder:"Auto-generated ID",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>{let a=Date.now()+"-"+Math.random().toString(36).substr(2,9);t({...e,campaignId:a})},className:"btn-neon-secondary px-6 py-3",children:"Generate"})]})]}),(0,r.jsxs)("div",{className:"glass-card p-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Subject"}),(0,r.jsx)("input",{type:"text",value:e.subject,onChange:a=>t({...e,subject:a.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-purple-400/50 focus:outline-none transition-colors",placeholder:"Your Project Update",required:!0})]}),(0,r.jsxs)("div",{className:"glass-card p-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recipient Email"}),(0,r.jsx)("input",{type:"email",value:e.recipientEmail,onChange:a=>t({...e,recipientEmail:a.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-purple-400/50 focus:outline-none transition-colors",placeholder:"client@example.com",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"btn-neon-primary w-full py-4 text-lg font-semibold",children:"Register Email"})]}),a&&(0,r.jsxs)("div",{className:"mt-8 glass-card p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Tracking Code:"}),(0,r.jsx)("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap bg-black/30 p-4 rounded-xl overflow-x-auto",children:a})]})]})})}a(2445)},2445:function(){},622:function(e,t,a){"use strict";var r=a(2265),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var r,n={},c=null,d=null;for(r in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[124,971,938,744],function(){return e(e.s=1055)}),_N_E=e.O()}]);