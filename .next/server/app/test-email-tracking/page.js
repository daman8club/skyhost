(()=>{var e={};e.id=304,e.ids=[304],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},26999:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o});var a=s(50482),r=s(69108),i=s(62563),n=s.n(i),l=s(68300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["test-email-tracking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21859)),"E:\\skyhost\\app\\test-email-tracking\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,96680)),"E:\\skyhost\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\skyhost\\app\\test-email-tracking\\page.tsx"],m="/test-email-tracking/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/test-email-tracking/page",pathname:"/test-email-tracking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},42900:(e,t,s)=>{Promise.resolve().then(s.bind(s,57042))},57042:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(95344),r=s(3729);function i(){let[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[n,l]=(0,r.useState)(!1),c=async()=>{try{let e=await fetch("/api/init-email-tables",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();t.success?(l(!0),i("✅ Tables created successfully!")):i("❌ Error: "+t.error)}catch(e){i("❌ Error: "+(e instanceof Error?e.message:"Unknown error"))}},o=async()=>{let e=Date.now()+"-test";await fetch("/api/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:e,subject:"Test Email",recipient_email:"test@example.com"})}),t(e);let s=new Image;s.onload=()=>i("✅ Tracking works! Check admin panel."),s.src=`/api/email/track?id=${e}`};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-space-black via-navy-dark to-space-black text-white p-8",children:(0,a.jsxs)("div",{className:"max-w-xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Test Email Tracking"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"glass-card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Step 1: Initialize Database"}),a.jsx("button",{onClick:c,className:"btn-neon-primary px-6 py-3",disabled:n,children:n?"✅ Tables Created":"Create Email Tables"})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Step 2: Test Tracking"}),a.jsx("button",{onClick:o,className:"btn-neon-secondary px-6 py-3",disabled:!n,children:"Test Tracking Pixel"})]})]}),s&&(0,a.jsxs)("div",{className:"mt-8 glass-card p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Result:"}),a.jsx("p",{className:"text-green-400",children:s})]}),e&&(0,a.jsxs)("div",{className:"mt-6 glass-card p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Test Details:"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Campaign ID:"}),a.jsx("code",{className:"ml-2 text-sm text-cyan-400",children:e})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Tracking URL:"}),(0,a.jsxs)("code",{className:"ml-2 text-sm text-cyan-400 break-all",children:["http://localhost:3000/api/email/track?id=",e]})]})]})]})]})})}s(4047)},21859:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let a=(0,s(86843).createProxy)(String.raw`E:\skyhost\app\test-email-tracking\page.tsx`),{__esModule:r,$$typeof:i}=a,n=a.default},4047:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,273,217],()=>s(26999));module.exports=a})();